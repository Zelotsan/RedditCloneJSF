<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    <h:head>
        <title>Project Name</title>
        <meta name="author" content="The Author"></meta>
    </h:head>
    <!-- Add 50px padding top to the body for the navbar -->
    <h:body style="padding-top: 50px; padding-bottom: 20px;">
        <b:navBar brand="Home" brandHref="#" inverse="true" fixed="top">
            <b:navbarLinks>
                <!-- b:navLink value="Link" href="#"></b:navLink-->
            </b:navbarLinks>
            <h:form styleClass="navbar-form navbar-right">
                <div class="form-group">
                    <b:inputText rendered="#{!userManager.loggedIn}" placeholder="Username" id="username" value="#{userManager.username}" fieldSize="sm"/>
                    <!--input type="text" class="form-control" placeholder="Search"/-->
                </div>
                <div class="form-group">
                    <h:inputSecret rendered="#{!userManager.loggedIn}" class="form-control input-sm" id="password" value="#{userManager.password}" fieldSize="sm"/>
                </div> 
                #{' '}
                <b:commandButton rendered="#{!userManager.loggedIn}" action="#{userManager.login}" value="#{texts.navbar_sign_in}" look="success" icon="chevron-right" iconAlign="right">
                	<f:actionListener binding="#{userManager.disableRegisterView()}"/>
                </b:commandButton>
                <b:commandButton rendered="#{!userManager.loggedIn and (!userManager.registering)}" action="#{userManager.enableRegisterView}" value="#{texts.navbar_sign_up}" look="primary" icon="glyphicon glyphicon-pencil" iconAlign="right"/>
                <h:outputText rendered="#{userManager.loggedIn}" value="#{texts.navbar_greeting} #{userManager.username}  " style="color:white"></h:outputText>
                <b:commandButton rendered="#{userManager.loggedIn}" action="#{userManager.logout}" value="#{texts.navbar_log_out}" look="primary"/>
                <h:messages rendered="#{!userManager.registering}" style="color:red" layout="table"/>
            </h:form>
        </b:navBar>
        <b:jumbotron>
            <b:container>
            	<h:panelGroup layout="block" rendered="#{!userManager.loggedIn and (!userManager.registering)}">
					<h1> Herzlich willkommen</h1>
					<p>	Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.
						At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
						Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.
						At vero eos et accusam et justo duo dolores et ea rebum.
						Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.
					</p>
				</h:panelGroup>
            	<h:panelGroup layout="block" rendered="#{userManager.loggedIn}">
	                <h1>Submit a new Link.</h1>
	                <p>The community is waiting for it!
	                </p>
	                <b:button value="Submit new Link" look="success" p:data-target="#linkModal" p:data-toggle="modal" onclick="return false;" size="sm"/>
	                <b:modal id="linkModal" title="Submit new link">
						<table class="table">
							<tbody>
								<tr>
									<td>
										<h:outputText value="Titel: "></h:outputText>
									</td>
									<td>
										<b:inputText placeholder="Titel.." id="title"  fieldSize="sm"/>
									</td>
								</tr>
								<tr>
									<td>
										<h:outputText value="Link: "></h:outputText>
									</td>
									<td>
										<b:inputText placeholder="http://www.beispiel.ch" id="link" fieldSize="sm"/>
									</td>
								</tr>
							</tbody>
						</table>
						<f:facet name="footer">
						<b:button value="Close" dismiss="modal" onclick="return false;"/>
						<b:button value="Submit new link" look="primary" dismiss="modal" onclick="return false;"/>
						</f:facet>
					</b:modal>
				</h:panelGroup>
				<h:panelGroup layout="block" rendered="#{userManager.registering}">
					<h1> Registrierung</h1>
	                <h:form>
						<div class="row">
							<div class="col-md-2">
								<h:outputText value="#{texts.register_username}: "></h:outputText>
							</div>
							<div class="col-md-4">
								<b:inputText id = "rusername" value="#{userManager.username}" placeholder = "Username" fieldSize="sm"></b:inputText>
							</div>
						</div>
						<div class="row">
							<div class="col-md-2">
								<h:outputText value="#{texts.register_password}: "></h:outputText>
							</div>
							<div class="col-md-4">
								<h:inputSecret type="password" class="form-control input-sm" id="rpassword" value="#{userManager.password}"></h:inputSecret>
							</div>
						</div>
						
						<b:commandButton value="#{texts.register_submit}" id="register" action="#{userManager.register}" look="success"></b:commandButton> 
						<b:commandButton value="#{texts.register_cancel}" id="cancel" action="#{userManager.disableRegisterView()}" look="danger"></b:commandButton>
						
						
						<h:messages style="color:red" layout="table"/>
					</h:form>
				</h:panelGroup>
            </b:container>
        </b:jumbotron>
        <b:container>
            
            <hr/>
            <footer>
            <p>Â© Company 2014</p>
            </footer>
        </b:container>

    </h:body>
</html>
